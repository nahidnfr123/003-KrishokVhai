(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{lVuJ:function(e,r,t){"use strict";t.r(r);var s=t("o0o1"),a=t.n(s),n=t("L2JU"),o=t("sZ6p");function i(e,r,t,s,a,n,o){try{var i=e[n](o),l=i.value}catch(e){return void t(e)}i.done?r(l):Promise.resolve(l).then(s,a)}function l(e){return function(){var r=this,t=arguments;return new Promise((function(s,a){var n=e.apply(r,t);function o(e){i(n,s,a,o,l,"next",e)}function l(e){i(n,s,a,o,l,"throw",e)}o(void 0)}))}}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var m={name:"Login",components:{},data:function(){return{loginCredentials:{username:"",password:"",remember:!1,csrf_token:null},errors:{},processing:!1}},methods:u(u({},Object(n.b)({loginAttempt:"auth/login",socialAuthAction:"auth/socialAuth",clearAuthError:"auth/clearError"})),{},{login:function(){var e=this;return l(a.a.mark((function r(){var t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e,e.processing=!0,t.$Progress.start(),t.errors={},e.clearAuthError(),t.loginCredentials.username.trim()||(t.errors.username="Username or Email is required!"),t.loginCredentials.password.trim()?t.loginCredentials.password.trim().length<8&&(t.errors.password="Password should be at least 8 characters!"):t.errors.password="Password is required!",!Object.keys(t.errors).length){r.next=11;break}return t.$Progress.fail(),t.processing=!1,r.abrupt("return");case 11:return r.next=13,e.loginAttempt(e.loginCredentials).finally((function(){t.processing=!1}));case 13:if(null==o.a.state.error){r.next=17;break}return t.$Progress.fail(),t.errors=o.a.state.error,r.abrupt("return");case 17:if(null==o.a.state.user){r.next=30;break}if(null==o.a.state.user.email_verified_at){r.next=24;break}return t.$router.replace({name:"Index"}),r.next=22,e.$store.dispatch("snackbar/addSnack",{color:"success",msg:"Login Successful.",snakbarType:"Success"},{root:!0});case 22:r.next=27;break;case 24:return t.$router.replace({name:"EmailVerification"}),r.next=27,e.$store.dispatch("snackbar/addSnack",{color:"success",msg:"Login Successful. Please verify email address.",snakbarType:"Success"},{root:!0});case 27:t.$Progress.finish(),r.next=31;break;case 30:t.$Progress.fail();case 31:case"end":return r.stop()}}),r)})))()},socialAuth:function(e){var r=this;return l(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.$Progress.start(),t.next=3,r.socialAuthAction(e).then((function(e){e.data.url&&(window.location.href=e.data.url)})).finally((function(){r.$Progress.finish()}));case 3:case"end":return t.stop()}}),t)})))()}})},p=t("KHd+"),g=Object(p.a)(m,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container"},[t("div",{staticClass:"col-12 col-md-6 col-lg-4 m-auto mb-4"},[t("h3",{staticClass:"text-center mt-4 text-muted"},[e._v("Login")]),e._v(" "),t("div",[t("div",{},[t("form",{attrs:{method:"post",autofocus:"autofocus"},on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),e.login(r)}}},[t("Custom_Text_Input",{staticClass:"mb-3",attrs:{label:"Phone number / Username / Email",id:"username",type:"text",placeholder:"john123, john@example.com, 01*********",error:e.errors.username&&Array.isArray(e.errors.username)?e.errors.username[0]:e.errors.username,Add_Input_Class:"h-10 dark:bg-gray-900"},model:{value:e.loginCredentials.username,callback:function(r){e.$set(e.loginCredentials,"username",r)},expression:"loginCredentials.username"}}),e._v(" "),t("Custom_Text_Input",{staticClass:"mb-3",attrs:{id:"password",placeholder:"********",label:"Password",type:"password",error:e.errors.password&&Array.isArray(e.errors.password)?e.errors.password[0]:e.errors.password,Add_Input_Class:"h-10 dark:bg-gray-900"},model:{value:e.loginCredentials.password,callback:function(r){e.$set(e.loginCredentials,"password",r)},expression:"loginCredentials.password"}}),e._v(" "),t("div",{staticClass:"mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCredentials.remember,expression:"loginCredentials.remember"}],staticClass:"mr-1",attrs:{type:"checkbox",id:"remember",name:"remember"},domProps:{checked:Array.isArray(e.loginCredentials.remember)?e._i(e.loginCredentials.remember,null)>-1:e.loginCredentials.remember},on:{change:function(r){var t=e.loginCredentials.remember,s=r.target,a=!!s.checked;if(Array.isArray(t)){var n=e._i(t,null);s.checked?n<0&&e.$set(e.loginCredentials,"remember",t.concat([null])):n>-1&&e.$set(e.loginCredentials,"remember",t.slice(0,n).concat(t.slice(n+1)))}else e.$set(e.loginCredentials,"remember",a)}}}),e._v(" "),t("label",{staticClass:"text-sm text-gray-600",attrs:{for:"remember"}},[e._v("Remember me")])]),e._v(" "),t("div",{staticClass:"mb-2 text-gray-800 dark:text-gray-300 text-sm"},[t("router-link",{staticClass:"text-blue-500",attrs:{to:"/forgot-password"}},[e._v("Forgot Password?")])],1),e._v(" "),t("Custom_Loading_Button",{staticClass:"mb-2",attrs:{Add_Input_Class:"col-12",processing:e.processing},on:{button_clicked:e.login}},[t("span",[e._v("Login")])])],1)]),e._v(" "),t("div",{staticClass:"text-center mt-4 text-gray-800 dark:text-gray-300"},[e._v("\n                Don't have an account?\n                "),t("router-link",{staticClass:"text-blue-500",attrs:{to:"/register"}},[e._v("Register")])],1)])])])}),[],!1,null,null,null);r.default=g.exports}}]);