(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{HyRL:function(t,r,a){"use strict";a("pJxk")},dNKV:function(t,r,a){"use strict";a.r(r);var e=a("o0o1"),s=a.n(e),i=a("L2JU"),o=a("sZ6p");function n(t,r,a,e,s,i,o){try{var n=t[i](o),l=n.value}catch(t){return void a(t)}n.done?r(l):Promise.resolve(l).then(e,s)}function l(t){return function(){var r=this,a=arguments;return new Promise((function(e,s){var i=t.apply(r,a);function o(t){n(i,e,s,o,l,"next",t)}function l(t){n(i,e,s,o,l,"throw",t)}o(void 0)}))}}function c(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.push.apply(a,e)}return a}function u(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?c(Object(a),!0).forEach((function(r){m(t,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))}))}return t}function m(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var d={name:"Register",components:{},props:{BaseUrl:String},data:function(){return{registrationData:{first_name:"",last_name:"",username:"",mobile_number:"",email:"",password:"",password_confirmation:"",user_type:"",postal_code:""},hasError:[],errors:{},processing:!1}},watch:{"registrationData.user_type":function(t,r){t!==r&&(this.errors={},this.clearFormData())}},computed:u({},Object(i.c)({locationData:"weather/locationData"})),mounted:function(){},methods:u(u({},Object(i.b)({registerAction:"auth/register",socialAuthAction:"auth/socialAuth",clearAuthError:"auth/clearError"})),{},{clearFormData:function(){if(this.registrationData.first_name="",this.registrationData.last_name="",this.registrationData.username="",this.registrationData.mobile_number="",this.registrationData.email="",this.registrationData.password="",this.registrationData.password_confirmation="",this.registrationData.postal_code="",this.errors={},Object.keys(this.locationData).length){var t=this.locationData.address.postcode.split("-");1==t.length&&(this.registrationData.postal_code=t[0]),2==t.length&&(this.registrationData.postal_code=t[1])}},validateRequest:function(){this.registrationData.first_name.trim()||(this.errors.first_name="First Name is required!"),this.registrationData.last_name.trim()||(this.errors.last_name="Last Name is required!"),this.registrationData.username.trim()||(this.errors.username="Username is required!"),this.registrationData.mobile_number.trim()||(this.errors.mobile_number="Mobile number is required!"),this.registrationData.email.trim()||(this.errors.email="Email is required!"),this.registrationData.password.trim()?this.registrationData.password.trim().length<8?this.errors.password="Password should be at least 8 characters!":this.registrationData.password.trim()!==this.registrationData.password_confirmation.trim()&&(this.errors.password="Password confirmation does not match!"):this.errors.password="Password is required!",this.registrationData.password_confirmation.trim()?this.registrationData.password_confirmation.trim().length<8&&(this.errors.password_confirmation="Confirm password should be at least 8 characters!"):this.errors.password_confirmation="Confirm password is required!"},register:function(){var t=this;return l(s.a.mark((function r(){var a;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((a=t).$Progress.start(),t.clearAuthError(),a.errors={},a.processing=!0,t.validateRequest(),!Object.keys(a.errors).length){r.next=10;break}return a.$Progress.fail(),a.processing=!1,r.abrupt("return");case 10:return r.next=12,t.registerAction(a.registrationData).finally((function(){a.processing=!1}));case 12:if(null==o.a.state.error){r.next=16;break}return a.$Progress.fail(),a.errors=o.a.state.error,r.abrupt("return");case 16:if(a.$Progress.finish(),!o.a.state.user){r.next=21;break}window.location.href="email/verify",r.next=23;break;case 21:return r.next=23,a.$router.replace({name:"Login"});case 23:case"end":return r.stop()}}),r)})))()},validateNumber:function(t){var r=String.fromCharCode(t.keyCode);/[0-9]/.test(r)||(t.preventDefault(),console.log("error"))},socialAuth:function(t){var r=this;return l(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.$Progress.start(),a.next=3,r.socialAuthAction(t).then((function(t){t.data.url&&(window.location.href=t.data.url)})).finally((function(){r.$Progress.finish()}));case 3:case"end":return a.stop()}}),a)})))()}})},p=(a("HyRL"),a("KHd+")),g=Object(p.a)(d,(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{staticClass:"container"},[a("div",{staticClass:"col-12 col-md-8 col-lg-6 m-auto mb-4"},[a("h2",{staticClass:"text-center mt-4 text-muted"},[t._v("Register")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row my-4 text-center"},[t._m(0),t._v(" "),a("div",{staticClass:"col-6 col-md-3 reg-links",class:["farmer"==t.registrationData.user_type?"active-reg-link":""],on:{click:function(r){r.stopPropagation(),r.preventDefault(),t.registrationData.user_type="farmer"}}},[a("img",{staticClass:"rounded",attrs:{src:"//image.flaticon.com/icons/png/512/773/773805.png",alt:""}}),t._v(" "),a("p",[t._v("Farmer")])]),t._v(" "),a("div",{staticClass:"col-6 col-md-3 reg-links",class:["retailer"==t.registrationData.user_type?"active-reg-link":""],on:{click:function(r){r.stopPropagation(),r.preventDefault(),t.registrationData.user_type="retailer"}}},[a("img",{staticClass:"rounded",attrs:{src:t.BaseUrl+"frontend-assets/img/shops.png",alt:""}}),t._v(" "),a("p",[t._v("Retailer")])]),t._v(" "),a("div",{staticClass:"col-6 col-md-3 reg-links",class:["agricultural-officer"==t.registrationData.user_type?"active-reg-link":""],on:{click:function(r){r.stopPropagation(),r.preventDefault(),t.registrationData.user_type="agricultural-officer"}}},[a("img",{staticClass:"rounded",attrs:{src:t.BaseUrl+"frontend-assets/img/man.png",alt:""}}),t._v(" "),a("p",[t._v("Agro Officer")])]),t._v(" "),a("div",{staticClass:"col-6 col-md-3 reg-links",class:["customer"==t.registrationData.user_type?"active-reg-link":""],on:{click:function(r){r.stopPropagation(),r.preventDefault(),t.registrationData.user_type="customer"}}},[a("img",{staticClass:"rounded",attrs:{src:t.BaseUrl+"frontend-assets/img/vegetables.png",alt:""}}),t._v(" "),a("p",[t._v("Customer")])])])]),t._v(" "),a("hr"),t._v(" "),a("div",[t.registrationData.user_type?a("div",{staticClass:"mx-auto"},[a("h3",{staticClass:"text-muted text-center my-2"},[t._v("Fill the form")]),t._v(" "),a("hr"),t._v(" "),a("form",{attrs:{method:"post",autofocus:"autofocus",autocomplete:"off"},on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),t.register(r)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6 col-xl"},[a("Custom_Text_Input",{staticClass:"mb-3",attrs:{type:"text",label:"First Name (*)",name:"first_name",placeholder:"John",error:t.errors.first_name&&Array.isArray(t.errors.first_name)?t.errors.first_name[0]:t.errors.first_name,id:"first_name"},model:{value:t.registrationData.first_name,callback:function(r){t.$set(t.registrationData,"first_name",r)},expression:"registrationData.first_name"}})],1),t._v(" "),a("div",{staticClass:"col-12 col-lg-6 col-xl"},[a("Custom_Text_Input",{staticClass:"mb-3",attrs:{type:"text",label:"Last Name (*)",name:"last_name",placeholder:"Doe",error:t.errors.last_name&&Array.isArray(t.errors.last_name)?t.errors.last_name[0]:t.errors.last_name,id:"last_name"},model:{value:t.registrationData.last_name,callback:function(r){t.$set(t.registrationData,"last_name",r)},expression:"registrationData.last_name"}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6 col-xl"},[a("Custom_Text_Input",{staticClass:"mb-3",attrs:{label:"Username (*)",type:"text",name:"username",error:t.errors.username&&Array.isArray(t.errors.username)?t.errors.username[0]:t.errors.username,placeholder:"john123",id:"username"},model:{value:t.registrationData.username,callback:function(r){t.$set(t.registrationData,"username",r)},expression:"registrationData.username"}})],1),t._v(" "),a("div",{staticClass:"col-12 col-lg-6 col-xl"},[a("Custom_Text_Input",{staticClass:"mb-3",attrs:{label:"Email (*)",type:"email",name:"email",error:t.errors.email&&Array.isArray(t.errors.email)?t.errors.email[0]:t.errors.email,placeholder:"example@gmail.com",id:"email"},model:{value:t.registrationData.email,callback:function(r){t.$set(t.registrationData,"email",r)},expression:"registrationData.email"}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6 col-xl"},[a("Custom_Text_Input",{staticClass:"mb-3",attrs:{type:"password",label:"Password (*)",placeholder:"********",id:"password",name:"password",error:t.errors.password&&Array.isArray(t.errors.password)?t.errors.password[0]:t.errors.password},model:{value:t.registrationData.password,callback:function(r){t.$set(t.registrationData,"password",r)},expression:"registrationData.password"}})],1),t._v(" "),a("div",{staticClass:"col-12 col-lg-6 col-xl"},[a("Custom_Text_Input",{staticClass:"mb-3",attrs:{type:"password",label:"Confirm Password (*)",placeholder:"********",id:"password_confirmation",name:"password_confirmation"},model:{value:t.registrationData.password_confirmation,callback:function(r){t.$set(t.registrationData,"password_confirmation",r)},expression:"registrationData.password_confirmation"}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-6 col-xl"},[a("Custom_Text_Input",{staticClass:"mb-3",attrs:{Add_Input_Class:"no-arrow",label:"Mobile Number (*)",type:"tel",name:"phone",pattern:"[01][0-9]{9}",minlength:"11",maxlength:"11",error:t.errors.mobile_number&&Array.isArray(t.errors.mobile_number)?t.errors.mobile_number[0]:t.errors.mobile_number,placeholder:"01*********",id:"mobile_number"},model:{value:t.registrationData.mobile_number,callback:function(r){t.$set(t.registrationData,"mobile_number",r)},expression:"registrationData.mobile_number"}})],1),t._v(" "),["farmer","retailer","agricultural-officer"].includes(t.registrationData.user_type)?a("div",{staticClass:"col-12 col-lg-6 col-xl"},[a("Custom_Text_Input",{staticClass:"mb-3",attrs:{type:"text",label:"Postal Code",placeholder:"1205",id:"postal_code",name:"post_code",maxlength:"6",error:t.errors.postal_code&&Array.isArray(t.errors.postal_code)?t.errors.postal_code[0]:t.errors.postal_code},model:{value:t.registrationData.postal_code,callback:function(r){t.$set(t.registrationData,"postal_code",r)},expression:"registrationData.postal_code"}})],1):t._e()]),t._v(" "),a("Custom_Loading_Button",{staticClass:"mb-2",attrs:{Add_Input_Class:"col-12",processing:t.processing},on:{button_clicked:t.register}},[a("span",[t._v("Register")])])],1),t._v(" "),t._m(1)]):t._e(),t._v(" "),a("div",{staticClass:"text-center mt-4 text-gray-800 dark:text-gray-100"},[t._v("\n                Already have an account ?\n                "),a("router-link",{staticClass:"text-blue-500",attrs:{to:"/login"}},[t._v("Login")])],1)])])])}),[function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"col-12 text-center  text-muted"},[r("h3",{staticClass:"text-muted"},[this._v("Who are you?")])])},function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"text-center"},[this._v("\n                    By creating an account you agree to our "),r("a",{attrs:{href:""}},[this._v("terms of service")])])}],!1,null,"d4a723c2",null);r.default=g.exports},pJxk:function(t,r,a){var e=a("wN+r");"string"==typeof e&&(e=[[t.i,e,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(e,s);e.locals&&(t.exports=e.locals)},"wN+r":function(t,r,a){(t.exports=a("I1BE")(!1)).push([t.i,".reg-links[data-v-d4a723c2]{cursor:pointer;border-radius:10px;padding-top:10px;transition:all .2s ease-in-out}.reg-links img[data-v-d4a723c2]{border-radius:50%}.reg-links.active-reg-link[data-v-d4a723c2],.reg-links.active-reg-link[data-v-d4a723c2]:hover{background-color:#3fc1f5}.reg-links.active-reg-link:hover p[data-v-d4a723c2],.reg-links.active-reg-link p[data-v-d4a723c2]{color:#fff!important}.reg-links[data-v-d4a723c2]:hover{background-color:#f1e5be}.no-arrow[data-v-d4a723c2]{-moz-appearance:textfield}.no-arrow[data-v-d4a723c2]::-webkit-inner-spin-button{display:none}.no-arrow[data-v-d4a723c2]::-webkit-inner-spin-button,.no-arrow[data-v-d4a723c2]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}",""])}}]);